{% extends "layout.html.jinja2" %}

{% block title %}{% trans %}Application list{% endtrans %}{% endblock %}

{% block top_title %}
  <h1 class="mui--text-display1">{% trans %}Application list{% endtrans %}</h1>
  <p><a class="mui-btn mui-btn--small mui-btn--raised mui-btn--primary" href="{{ url_for('client_new') }}">{% trans %}New application{% endtrans %}</a></p>
{% endblock %}

{% block content %}
  <table class="mui-table mui-table--bordered mui-table--responsive">
    <thead>
      <tr>
        <th>#</th>
        <th>{% trans %}Title{% endtrans %}</th>
        <th>{% trans %}Owner{% endtrans %}</th>
        <th>{% trans %}Website{% endtrans %}</th>
      </tr>
    </thead>
    <tbody class="mui--text-subhead">
      {% for auth_client in auth_clients %}
        {%- set link = url_for('client_info', key=auth_client.buid) %}
        <tr>
          <td data-th="#"><a href="{{ link }}" title="{{ auth_client.title }}">{{ loop.index }}</a></td>
          <td data-th="Title"><a href="{{ link }}" title="{{ auth_client.title }}">{{ auth_client.title }}</a></td>
          <td data-th="Owner"><a href="{{ link }}" title="{{ auth_client.title }}">{{ auth_client.owner.pickername }}</a></td>
          <td data-th="Website"><a href="{{ link }}" title="{{ auth_client.title }}">{{ auth_client.website }}</a></td>
        </tr>
      {% else %}
        <tr>
          <td colspan="4">{% trans %}No applications have been registered{% endtrans %}</td>
        </tr>
      {% endfor %}
    </tbody>
  </table>
{% endblock %}
