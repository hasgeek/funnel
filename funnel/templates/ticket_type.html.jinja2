{% extends "layout.html.jinja2" %}
{% from "macros.html.jinja2" import faicon %}
{% block title %}{{ project.title }}{% endblock title %}
{% block pageheaders %}
{% endblock pageheaders %}

{% block top_title %}
  <h1 class="mui--text-headline"><a href="{{ project.url_for() }}">{{ project.title }}</a></h1>
  <p class="mui--text-subhead"><a href="{{ project.url_for('admin') }}" title="{% trans %}Setup events for check-in{% endtrans %}">{{ faicon(icon='arrow-left', icon_size='subhead') }} {% trans %}Back to setup events{% endtrans %}</a></p>
{% endblock top_title %}

{% block contentwrapper %}
  <div class="grid">
    <div class="grid__col-xs-6">
      <h3 class="mui--text-title">{{ ticket_type.title }} <a href="{{ ticket_type.url_for('edit') }}" aria-label="{% trans %}Edit{% endtrans %}">{{ faicon(icon='edit', icon_size='subhead', css_class="fa5--link") }}</a></h3>
    </div>
    <div class="grid__col-xs-6">
      <h3 class="mui--text-title mui--text-right">
        Total: {{ ticket_participants | length }}
      </h3>
    </div>
    <div class="grid__col-xs-12 mui-table--responsive-wrapper">
      <table class="mui-table mui-table--bordered mui-table--responsive" id="ticket-participants-table">
        <thead>
          <tr>
            <th>{% trans %}Name{% endtrans %}</th>
            <th>{% trans %}Email{% endtrans %}</th>
            <th>{% trans %}Company{% endtrans %}</th>
          </tr>
        </thead>
        <tbody>
          {%- for p in ticket_participants %}
            <tr id="p-{{ p.id }}">
              <td class="js-searchable" data-th="Name">{{ p.fullname }}</td>
              <td class="js-searchable" data-th="Email">{{ p.email }}</td>
              <td class="js-searchable" data-th="Company">{{ p.company }}</td>
            </tr>
          {%- endfor %}
        </tbody>
      </table>
    </div>
  </div>
{% endblock contentwrapper %}
{% block footerscripts %}
{% endblock footerscripts %}
