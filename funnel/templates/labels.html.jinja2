{% extends "layout.html.jinja2" %}
{% block title %}{% trans %}Labels{% endtrans %} &ndash; {{ project.title }}{% endblock %}

{% block top_title %}
  <h1 class="mui--text-display1">{{ project.title|e }}</h1>
  <p class="mui--text-headline">Manage labels</p>
{% endblock %}

{% block contentwrapper %}
  <div class="grid">
    {%- for labelset in labelsets %}
      <div class="grid__col-xs-12 grid__col-sm-4">
        <div class="card">
          <div class="card__header">
            <h3>{{ labelset.title }}</h3>
            <div class="mui--text-body2">{{ labelset.description }}</div>
          </div>
          <div class="card__body card__body--lgtext mui--text-subhead">
            <ol class="mui-list--aligned mui-list--border">
              {%- for label in labelset.labels %}
                <li>
                  <span class="mui--text-subhead"><strong>{{ label.title }}</strong></span>
                  <span class="mui--pull-right">
                    <a href="{{ label.url_for('edit') }}" title="{% trans %}Edit{% endtrans %}"><i class="material-icons mui--text-subhead mui--align-top left-margin">edit</i></a>
                    <a href="{{ label.url_for('delete') }}" title="{% trans %}Delete{% endtrans %}"><i class="material-icons mui--text-subhead mui--align-top left-margin">delete</i></a>
                  </span>
                </li>
              {% else %}
                <li class="mui--text-subhead"><em>{% trans %}(No labels){% endtrans %}</em></li>
              {%- endfor %}
            </ol>
          </div>
          <div class="mui-divider"></div>
          <div class="card__footer">
            <a class="mui-btn mui-btn--small mui-btn--flat mui-btn--primary" href="{{ labelset.url_for('new_label') }}" title="{% trans %}Add label{% endtrans %}">{% trans %}Add label{% endtrans %}</a>
            <a class="mui-btn mui-btn--small mui-btn--flat mui-btn--accent" href="{{ labelset.url_for('edit') }}" title="{% trans %}Edit{% endtrans %}">{% trans %}Edit labelset{% endtrans %}</a>
          </div>
        </div>
      </div>
    {%- endfor %}
    <div class="grid__col-xs-12 grid__col-sm-4">
      <div class="clickable-card card" data-href="{{ project.url_for('new_labelset') }}" title="New labelset">
        <div class="card__image-wrapper">
          <div class="card__image--default card__image--new">
            <img class="card__image" src="{{ url_for('static', filename='img/card-background.png') }}" alt="new"/>
            <p class="card__image__tagline mui--text-display1">+</p>
          </div>
        </div>
        <div class="card__title">
          <h3 class="mui--text-title card__title__heading mui--text-bold">Create a new labelset</h3>
<!--           <h4 class="mui--text-caption card__title__heading">Write, collaborate and get feedback.</h4> -->
        </div>
        <div class="card__footer">
          <a href="{{ project.url_for('new_labelset') }}" class="mui-btn mui-btn--small mui-btn--flat mui-btn--primary" title="New labelset" data-action="New labelset">Add</a>
        </div>
      </div>
    </div>
  </div>
</div>
{% endblock %}
