<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <style>
            * {
              box-sizing: border-box;
              color: #1f2d3d;
              font-weight: 600;
              font-family: 'SegoeUI', 'Montserrat', 'Helvetica', sans-serif;
              padding: 0;
              margin: 0;
            }

            body {
                width: 320px;
                height: 180px
            }

            .main-wrapper {
                width: 100%;
                height: 100%;
                position: relative;
                display: flex;
                align-items: start;
                justify-content: space-between;
            }

            .main-content {
              width: -webkit-fill-available;
            }

            .project-title {
                font-size: 1.2em;
                text-align: left;
                padding-bottom: 0.5rem;
                font-weight: 600;
                border-bottom: 0.5px solid #1f2d3d;
            }

            .project-tagline {
                padding-top: 0.3rem;
                font-size: 0.7rem;
                font-weight: 300;
            }
            .title-wrapper{
                line-height: 1.2;
                text-align: left;
                padding: 0.75em;
            }

            .organization-label{
              font-size: 0.4rem;
              text-transform: uppercase;
              padding-bottom: 0.1rem;
            }


            .datetime-wrapper {
              position: absolute;
              font-size: 0.5rem;
              left: 1.35em;
              bottom: 1.2em;
              gap: 4rem;
              text-align: left;
              display: flex;
              justify-content: space-between;
            }
        </style>
    </head>
    <body>
        <main class="main-wrapper" id="container">
            <div class="main-content">
                <div class="title-wrapper">
                <h5 class="organization-label">{{project.account.title}}</h5>
                    <h1 class="project-title">{{ project.title }}</h1>
                    <div class="project-tagline">
                      {{ project.tagline }}
                    </div>
                </div>
                <div class="datetime-wrapper">
                    <p>{{ project.datelocation }}</p>
                    <p>{{ project.primary_venue.title }}</p>
                </div>
            </div>
        </main>
        <script>
            const randomizeIndex = (count) => {
                return Math.floor(count * Math.random());
            };
            const randomizeElements = (hueList) => {
                const uniqueHuePair = new Set();
                let hueCount = hueList.length;
                let randomIndex;
                let hue;
                while (uniqueHuePair.size < 2) {
                    randomIndex = randomizeIndex(hueCount);
                    hue = hueList[randomIndex];
                    uniqueHuePair.add(hue);
                }
                return uniqueHuePair;
            };

            window.addEventListener("load", () => {
                var hueValues = [5, 23, 39, 48, 92, 172, 201, 220, 273, 335]
                huePair = Array.from(randomizeElements(hueValues));
                console.log(huePair);
                var gradient = `linear-gradient(to bottom right, hsl(${huePair[0]}, 100%, 87%), hsl(${huePair[0]+(huePair[1]-huePair[0])*0.33}, 100%, 87%), hsl(${huePair[0]+(huePair[1]-huePair[0])*0.66}, 100%, 87%), hsl(${huePair[1]}, 100%, 87%))`;
                document.getElementById("container").style.background = gradient;
            })
        </script>
    </body>
</html>
