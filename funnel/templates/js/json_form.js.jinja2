{% macro json_form_template() %}
  {% raw %}
    <script type="text/x-template" id="form-template">
      <div>
        <p v-if="title">{{ title }}</p>
        <div v-for="(field, fieldName) in jsonschema">
          <div class="mui-form__fields listwidget" :id="`field-${fieldName}`">
            <div class="mui-form__controls">

              <div class="mui-select" v-if="field.type == 'string' && 'enum' in field && field.enum.length > 4">
                <select :id="`${fieldName}`">
                  <option v-for="option in field.enum" :value="option">
                    {{ option }}
                  </option>
                </select>
                <label :for="`${fieldName}`">{{ fieldName | capitalised }}</label>
                <p class="mui-form__helptext" v-if="'description' in field">{{ field.description }}</p>
              </div>

              <div class="mui-textfield" v-if="field.type == 'string' && 'enum' in field">
                <label :for="`${fieldName}`" class="mui-form__label">{{ fieldName | capitalised }}</label>
                <ul :id="`${fieldName}`">
                  <li v-for="option in field.enum">
                    <input :id="`${option}`" :name="`${fieldName}`" type="radio" :value="option">
                    <label :for="`${option}`">{{ option | capitalised }}</label>
                  </li>
                </ul>
              </div>

              <div class="mui-textfield mui-textfield--float-label" v-else-if="field.type == 'string'">
                <input :id="`${fieldName}`" type="text" :name="`${fieldName}`" value="" />
                <label :for="`${fieldName}`">{{ fieldName | capitalised }}</label>
                <p class="mui-form__helptext" v-if="'description' in field">{{ field.description }}</p>
              </div>

              <div class="mui-checkbox" v-if="field.type == 'boolean'">
                <label>
                  <input id="`${fieldName}`" type="checkbox" :name="`${fieldName}`" />
                  {{ fieldName | capitalised }}
                </label>
                <p class="mui-form__helptext" v-if="'description' in field">{{ field.description }}</p>
              </div>

            </div>
          </div>
        </div>
      </div>
    </script>
  {% endraw %}
{%- endmacro %}
