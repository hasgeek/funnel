markdown = """
# vega-lite tests

## Interactive Scatter Plot Matrix

``` { vega-lite }
{
  "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
  "repeat": {
    "row": ["Horsepower", "Acceleration", "Miles_per_Gallon"],
    "column": ["Miles_per_Gallon", "Acceleration", "Horsepower"]
  },
  "spec": {
    "data": {"url": "https://vega.github.io/vega-lite/examples/data/cars.json"},
    "mark": "point",
    "params": [
      {
        "name": "brush",
        "select": {
          "type": "interval",
          "resolve": "union",
          "on": "[mousedown[event.shiftKey], window:mouseup] > window:mousemove!",
          "translate": "[mousedown[event.shiftKey], window:mouseup] > window:mousemove!",
          "zoom": "wheel![event.shiftKey]"
        }
      },
      {
        "name": "grid",
        "select": {
          "type": "interval",
          "resolve": "global",
          "translate": "[mousedown[!event.shiftKey], window:mouseup] > window:mousemove!",
          "zoom": "wheel![!event.shiftKey]"
        },
        "bind": "scales"
      }
    ],
    "encoding": {
      "x": {"field": {"repeat": "column"}, "type": "quantitative"},
      "y": {
        "field": {"repeat": "row"},
        "type": "quantitative",
        "axis": {"minExtent": 30}
      },
      "color": {
        "condition": {
          "param": "brush",
          "field": "Origin",
          "type": "nominal"
        },
        "value": "grey"
      }
    }
  }
}
```

## Population Pyramid

```{vega-lite}
{
  "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
  "description": "A population pyramid for the US in 2000.",
  "data": { "url": "https://vega.github.io/vega-lite/examples/data/population.json"},
  "transform": [
    {"filter": "datum.year == 2000"},
    {"calculate": "datum.sex == 2 ? 'Female' : 'Male'", "as": "gender"}
  ],
  "spacing": 0,
  "hconcat": [{
    "transform": [{
      "filter": {"field": "gender", "equal": "Female"}
    }],
    "title": "Female",
    "mark": "bar",
    "encoding": {
      "y": {
        "field": "age", "axis": null, "sort": "descending"
      },
      "x": {
        "aggregate": "sum", "field": "people",
        "title": "population",
        "axis": {"format": "s"},
        "sort": "descending"
      },
      "color": {
        "field": "gender",
        "scale": {"range": ["#675193", "#ca8861"]},
        "legend": null
      }
    }
  }, {
    "width": 20,
    "view": {"stroke": null},
    "mark": {
      "type": "text",
      "align": "center"
    },
    "encoding": {
      "y": {"field": "age", "type": "ordinal", "axis": null, "sort": "descending"},
      "text": {"field": "age", "type": "quantitative"}
    }
  }, {
    "transform": [{
      "filter": {"field": "gender", "equal": "Male"}
    }],
    "title": "Male",
    "mark": "bar",
    "encoding": {
      "y": {
        "field": "age", "title": null,
        "axis": null, "sort": "descending"
      },
      "x": {
        "aggregate": "sum", "field": "people",
        "title": "population",
        "axis": {"format": "s"}
      },
      "color": {
        "field": "gender",
        "legend": null
      }
    }
  }],
  "config": {
    "view": {"stroke": null},
    "axis": {"grid": false}
  }
}

```

## Discretizing scales

``` {vega-lite}
{
  "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
  "description": "Horizontally concatenated charts that show different types of discretizing scales.",
  "data": {
    "values": [
      {"a": "A", "b": 28},
      {"a": "B", "b": 55},
      {"a": "C", "b": 43},
      {"a": "D", "b": 91},
      {"a": "E", "b": 81},
      {"a": "F", "b": 53},
      {"a": "G", "b": 19},
      {"a": "H", "b": 87},
      {"a": "I", "b": 52}
    ]
  },
  "hconcat": [
    {
      "mark": "circle",
      "encoding": {
        "y": {
          "field": "b",
          "type": "nominal",
          "sort": null,
          "axis": {
            "ticks": false,
            "domain": false,
            "title": null
          }
        },
        "size": {
          "field": "b",
          "type": "quantitative",
          "scale": {
            "type": "quantize"
          }
        },
        "color": {
          "field": "b",
          "type": "quantitative",
          "scale": {
            "type": "quantize",
            "zero": true
          },
          "legend": {
            "title": "Quantize"
          }
        }
      }
    },
    {
      "mark": "circle",
      "encoding": {
        "y": {
          "field": "b",
          "type": "nominal",
          "sort": null,
          "axis": {
            "ticks": false,
            "domain": false,
            "title": null
          }
        },
        "size": {
          "field": "b",
          "type": "quantitative",
          "scale": {
            "type": "quantile",
            "range": [80, 160, 240, 320, 400]
          }
        },
        "color": {
          "field": "b",
          "type": "quantitative",
          "scale": {
            "type": "quantile",
            "scheme": "magma"
          },
          "legend": {
            "format": "d",
            "title": "Quantile"
          }
        }
      }
    },
    {
      "mark": "circle",
      "encoding": {
        "y": {
          "field": "b",
          "type": "nominal",
          "sort": null,
          "axis": {
            "ticks": false,
            "domain": false,
            "title": null
          }
        },
        "size": {
          "field": "b",
          "type": "quantitative",
          "scale": {
            "type": "threshold",
            "domain": [30, 70],
            "range": [80, 200, 320]
          }
        },
        "color": {
          "field": "b",
          "type": "quantitative",
          "scale": {
            "type": "threshold",
            "domain": [30, 70],
            "scheme": "viridis"
          },
          "legend": {
            "title": "Threshold"
          }
        }
      }
    }
  ],
  "resolve": {
    "scale": {
      "color": "independent",
      "size": "independent"
    }
  }
}
```

## Marginal Histograms

``` {vega-lite}
{
  "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
  "data": {"url": "https://vega.github.io/vega-lite/examples/data/movies.json"},
  "spacing": 15,
  "bounds": "flush",
  "vconcat": [{
    "mark": "bar",
    "height": 60,
    "encoding": {
      "x": {
        "bin": true,
        "field": "IMDB Rating",
        "axis": null
      },
      "y": {
        "aggregate": "count",
        "scale": {
          "domain": [0,1000]
        },
        "title": ""
      }
    }
  }, {
    "spacing": 15,
    "bounds": "flush",
    "hconcat": [{
      "mark": "rect",
      "encoding": {
        "x": {"bin": true, "field": "IMDB Rating"},
        "y": {"bin": true, "field": "Rotten Tomatoes Rating"},
        "color": {"aggregate": "count"}
      }
    }, {
      "mark": "bar",
      "width": 60,
      "encoding": {
        "y": {
          "bin": true,
          "field": "Rotten Tomatoes Rating",
          "axis": null
        },
        "x": {
          "aggregate": "count",
          "scale": {"domain": [0,1000]},
          "title": ""
        }
      }
    }]
  }],
  "config": {
    "view": {
      "stroke": "transparent"
    }
  }
}
```

## Radial Plot

``` {vega-lite}
{
  "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
  "description": "A simple radial chart with embedded data.",
  "data": {
    "values": [12, 23, 47, 6, 52, 19]
  },
  "layer": [{
    "mark": {"type": "arc", "innerRadius": 20, "stroke": "#fff"}
  },{
    "mark": {"type": "text", "radiusOffset": 10},
    "encoding": {
      "text": {"field": "data", "type": "quantitative"}
    }
  }],
  "encoding": {
    "theta": {"field": "data", "type": "quantitative", "stack": true},
    "radius": {"field": "data", "scale": {"type": "sqrt", "zero": true, "rangeMin": 20}},
    "color": {"field": "data", "type": "nominal", "legend": null}
  }
}

```
"""

[config]
profiles = [ "basic", "document",]

[config.custom_profiles.vega-lite]
preset = "default"
plugins = [ "vega-lite",]

[expected_output]
basic = """<h1>vega-lite tests</h1>
<h2>Interactive Scatter Plot Matrix</h2>
<pre><code class="language-{">{
  &quot;$schema&quot;: &quot;https://vega.github.io/schema/vega-lite/v5.json&quot;,
  &quot;repeat&quot;: {
    &quot;row&quot;: [&quot;Horsepower&quot;, &quot;Acceleration&quot;, &quot;Miles_per_Gallon&quot;],
    &quot;column&quot;: [&quot;Miles_per_Gallon&quot;, &quot;Acceleration&quot;, &quot;Horsepower&quot;]
  },
  &quot;spec&quot;: {
    &quot;data&quot;: {&quot;url&quot;: &quot;https://vega.github.io/vega-lite/examples/data/cars.json&quot;},
    &quot;mark&quot;: &quot;point&quot;,
    &quot;params&quot;: [
      {
        &quot;name&quot;: &quot;brush&quot;,
        &quot;select&quot;: {
          &quot;type&quot;: &quot;interval&quot;,
          &quot;resolve&quot;: &quot;union&quot;,
          &quot;on&quot;: &quot;[mousedown[event.shiftKey], window:mouseup] &gt; window:mousemove!&quot;,
          &quot;translate&quot;: &quot;[mousedown[event.shiftKey], window:mouseup] &gt; window:mousemove!&quot;,
          &quot;zoom&quot;: &quot;wheel![event.shiftKey]&quot;
        }
      },
      {
        &quot;name&quot;: &quot;grid&quot;,
        &quot;select&quot;: {
          &quot;type&quot;: &quot;interval&quot;,
          &quot;resolve&quot;: &quot;global&quot;,
          &quot;translate&quot;: &quot;[mousedown[!event.shiftKey], window:mouseup] &gt; window:mousemove!&quot;,
          &quot;zoom&quot;: &quot;wheel![!event.shiftKey]&quot;
        },
        &quot;bind&quot;: &quot;scales&quot;
      }
    ],
    &quot;encoding&quot;: {
      &quot;x&quot;: {&quot;field&quot;: {&quot;repeat&quot;: &quot;column&quot;}, &quot;type&quot;: &quot;quantitative&quot;},
      &quot;y&quot;: {
        &quot;field&quot;: {&quot;repeat&quot;: &quot;row&quot;},
        &quot;type&quot;: &quot;quantitative&quot;,
        &quot;axis&quot;: {&quot;minExtent&quot;: 30}
      },
      &quot;color&quot;: {
        &quot;condition&quot;: {
          &quot;param&quot;: &quot;brush&quot;,
          &quot;field&quot;: &quot;Origin&quot;,
          &quot;type&quot;: &quot;nominal&quot;
        },
        &quot;value&quot;: &quot;grey&quot;
      }
    }
  }
}
</code></pre>
<h2>Population Pyramid</h2>
<pre><code class="language-{vega-lite}">{
  &quot;$schema&quot;: &quot;https://vega.github.io/schema/vega-lite/v5.json&quot;,
  &quot;description&quot;: &quot;A population pyramid for the US in 2000.&quot;,
  &quot;data&quot;: { &quot;url&quot;: &quot;https://vega.github.io/vega-lite/examples/data/population.json&quot;},
  &quot;transform&quot;: [
    {&quot;filter&quot;: &quot;datum.year == 2000&quot;},
    {&quot;calculate&quot;: &quot;datum.sex == 2 ? 'Female' : 'Male'&quot;, &quot;as&quot;: &quot;gender&quot;}
  ],
  &quot;spacing&quot;: 0,
  &quot;hconcat&quot;: [{
    &quot;transform&quot;: [{
      &quot;filter&quot;: {&quot;field&quot;: &quot;gender&quot;, &quot;equal&quot;: &quot;Female&quot;}
    }],
    &quot;title&quot;: &quot;Female&quot;,
    &quot;mark&quot;: &quot;bar&quot;,
    &quot;encoding&quot;: {
      &quot;y&quot;: {
        &quot;field&quot;: &quot;age&quot;, &quot;axis&quot;: null, &quot;sort&quot;: &quot;descending&quot;
      },
      &quot;x&quot;: {
        &quot;aggregate&quot;: &quot;sum&quot;, &quot;field&quot;: &quot;people&quot;,
        &quot;title&quot;: &quot;population&quot;,
        &quot;axis&quot;: {&quot;format&quot;: &quot;s&quot;},
        &quot;sort&quot;: &quot;descending&quot;
      },
      &quot;color&quot;: {
        &quot;field&quot;: &quot;gender&quot;,
        &quot;scale&quot;: {&quot;range&quot;: [&quot;#675193&quot;, &quot;#ca8861&quot;]},
        &quot;legend&quot;: null
      }
    }
  }, {
    &quot;width&quot;: 20,
    &quot;view&quot;: {&quot;stroke&quot;: null},
    &quot;mark&quot;: {
      &quot;type&quot;: &quot;text&quot;,
      &quot;align&quot;: &quot;center&quot;
    },
    &quot;encoding&quot;: {
      &quot;y&quot;: {&quot;field&quot;: &quot;age&quot;, &quot;type&quot;: &quot;ordinal&quot;, &quot;axis&quot;: null, &quot;sort&quot;: &quot;descending&quot;},
      &quot;text&quot;: {&quot;field&quot;: &quot;age&quot;, &quot;type&quot;: &quot;quantitative&quot;}
    }
  }, {
    &quot;transform&quot;: [{
      &quot;filter&quot;: {&quot;field&quot;: &quot;gender&quot;, &quot;equal&quot;: &quot;Male&quot;}
    }],
    &quot;title&quot;: &quot;Male&quot;,
    &quot;mark&quot;: &quot;bar&quot;,
    &quot;encoding&quot;: {
      &quot;y&quot;: {
        &quot;field&quot;: &quot;age&quot;, &quot;title&quot;: null,
        &quot;axis&quot;: null, &quot;sort&quot;: &quot;descending&quot;
      },
      &quot;x&quot;: {
        &quot;aggregate&quot;: &quot;sum&quot;, &quot;field&quot;: &quot;people&quot;,
        &quot;title&quot;: &quot;population&quot;,
        &quot;axis&quot;: {&quot;format&quot;: &quot;s&quot;}
      },
      &quot;color&quot;: {
        &quot;field&quot;: &quot;gender&quot;,
        &quot;legend&quot;: null
      }
    }
  }],
  &quot;config&quot;: {
    &quot;view&quot;: {&quot;stroke&quot;: null},
    &quot;axis&quot;: {&quot;grid&quot;: false}
  }
}

</code></pre>
<h2>Discretizing scales</h2>
<pre><code class="language-{vega-lite}">{
  &quot;$schema&quot;: &quot;https://vega.github.io/schema/vega-lite/v5.json&quot;,
  &quot;description&quot;: &quot;Horizontally concatenated charts that show different types of discretizing scales.&quot;,
  &quot;data&quot;: {
    &quot;values&quot;: [
      {&quot;a&quot;: &quot;A&quot;, &quot;b&quot;: 28},
      {&quot;a&quot;: &quot;B&quot;, &quot;b&quot;: 55},
      {&quot;a&quot;: &quot;C&quot;, &quot;b&quot;: 43},
      {&quot;a&quot;: &quot;D&quot;, &quot;b&quot;: 91},
      {&quot;a&quot;: &quot;E&quot;, &quot;b&quot;: 81},
      {&quot;a&quot;: &quot;F&quot;, &quot;b&quot;: 53},
      {&quot;a&quot;: &quot;G&quot;, &quot;b&quot;: 19},
      {&quot;a&quot;: &quot;H&quot;, &quot;b&quot;: 87},
      {&quot;a&quot;: &quot;I&quot;, &quot;b&quot;: 52}
    ]
  },
  &quot;hconcat&quot;: [
    {
      &quot;mark&quot;: &quot;circle&quot;,
      &quot;encoding&quot;: {
        &quot;y&quot;: {
          &quot;field&quot;: &quot;b&quot;,
          &quot;type&quot;: &quot;nominal&quot;,
          &quot;sort&quot;: null,
          &quot;axis&quot;: {
            &quot;ticks&quot;: false,
            &quot;domain&quot;: false,
            &quot;title&quot;: null
          }
        },
        &quot;size&quot;: {
          &quot;field&quot;: &quot;b&quot;,
          &quot;type&quot;: &quot;quantitative&quot;,
          &quot;scale&quot;: {
            &quot;type&quot;: &quot;quantize&quot;
          }
        },
        &quot;color&quot;: {
          &quot;field&quot;: &quot;b&quot;,
          &quot;type&quot;: &quot;quantitative&quot;,
          &quot;scale&quot;: {
            &quot;type&quot;: &quot;quantize&quot;,
            &quot;zero&quot;: true
          },
          &quot;legend&quot;: {
            &quot;title&quot;: &quot;Quantize&quot;
          }
        }
      }
    },
    {
      &quot;mark&quot;: &quot;circle&quot;,
      &quot;encoding&quot;: {
        &quot;y&quot;: {
          &quot;field&quot;: &quot;b&quot;,
          &quot;type&quot;: &quot;nominal&quot;,
          &quot;sort&quot;: null,
          &quot;axis&quot;: {
            &quot;ticks&quot;: false,
            &quot;domain&quot;: false,
            &quot;title&quot;: null
          }
        },
        &quot;size&quot;: {
          &quot;field&quot;: &quot;b&quot;,
          &quot;type&quot;: &quot;quantitative&quot;,
          &quot;scale&quot;: {
            &quot;type&quot;: &quot;quantile&quot;,
            &quot;range&quot;: [80, 160, 240, 320, 400]
          }
        },
        &quot;color&quot;: {
          &quot;field&quot;: &quot;b&quot;,
          &quot;type&quot;: &quot;quantitative&quot;,
          &quot;scale&quot;: {
            &quot;type&quot;: &quot;quantile&quot;,
            &quot;scheme&quot;: &quot;magma&quot;
          },
          &quot;legend&quot;: {
            &quot;format&quot;: &quot;d&quot;,
            &quot;title&quot;: &quot;Quantile&quot;
          }
        }
      }
    },
    {
      &quot;mark&quot;: &quot;circle&quot;,
      &quot;encoding&quot;: {
        &quot;y&quot;: {
          &quot;field&quot;: &quot;b&quot;,
          &quot;type&quot;: &quot;nominal&quot;,
          &quot;sort&quot;: null,
          &quot;axis&quot;: {
            &quot;ticks&quot;: false,
            &quot;domain&quot;: false,
            &quot;title&quot;: null
          }
        },
        &quot;size&quot;: {
          &quot;field&quot;: &quot;b&quot;,
          &quot;type&quot;: &quot;quantitative&quot;,
          &quot;scale&quot;: {
            &quot;type&quot;: &quot;threshold&quot;,
            &quot;domain&quot;: [30, 70],
            &quot;range&quot;: [80, 200, 320]
          }
        },
        &quot;color&quot;: {
          &quot;field&quot;: &quot;b&quot;,
          &quot;type&quot;: &quot;quantitative&quot;,
          &quot;scale&quot;: {
            &quot;type&quot;: &quot;threshold&quot;,
            &quot;domain&quot;: [30, 70],
            &quot;scheme&quot;: &quot;viridis&quot;
          },
          &quot;legend&quot;: {
            &quot;title&quot;: &quot;Threshold&quot;
          }
        }
      }
    }
  ],
  &quot;resolve&quot;: {
    &quot;scale&quot;: {
      &quot;color&quot;: &quot;independent&quot;,
      &quot;size&quot;: &quot;independent&quot;
    }
  }
}
</code></pre>
<h2>Marginal Histograms</h2>
<pre><code class="language-{vega-lite}">{
  &quot;$schema&quot;: &quot;https://vega.github.io/schema/vega-lite/v5.json&quot;,
  &quot;data&quot;: {&quot;url&quot;: &quot;https://vega.github.io/vega-lite/examples/data/movies.json&quot;},
  &quot;spacing&quot;: 15,
  &quot;bounds&quot;: &quot;flush&quot;,
  &quot;vconcat&quot;: [{
    &quot;mark&quot;: &quot;bar&quot;,
    &quot;height&quot;: 60,
    &quot;encoding&quot;: {
      &quot;x&quot;: {
        &quot;bin&quot;: true,
        &quot;field&quot;: &quot;IMDB Rating&quot;,
        &quot;axis&quot;: null
      },
      &quot;y&quot;: {
        &quot;aggregate&quot;: &quot;count&quot;,
        &quot;scale&quot;: {
          &quot;domain&quot;: [0,1000]
        },
        &quot;title&quot;: &quot;&quot;
      }
    }
  }, {
    &quot;spacing&quot;: 15,
    &quot;bounds&quot;: &quot;flush&quot;,
    &quot;hconcat&quot;: [{
      &quot;mark&quot;: &quot;rect&quot;,
      &quot;encoding&quot;: {
        &quot;x&quot;: {&quot;bin&quot;: true, &quot;field&quot;: &quot;IMDB Rating&quot;},
        &quot;y&quot;: {&quot;bin&quot;: true, &quot;field&quot;: &quot;Rotten Tomatoes Rating&quot;},
        &quot;color&quot;: {&quot;aggregate&quot;: &quot;count&quot;}
      }
    }, {
      &quot;mark&quot;: &quot;bar&quot;,
      &quot;width&quot;: 60,
      &quot;encoding&quot;: {
        &quot;y&quot;: {
          &quot;bin&quot;: true,
          &quot;field&quot;: &quot;Rotten Tomatoes Rating&quot;,
          &quot;axis&quot;: null
        },
        &quot;x&quot;: {
          &quot;aggregate&quot;: &quot;count&quot;,
          &quot;scale&quot;: {&quot;domain&quot;: [0,1000]},
          &quot;title&quot;: &quot;&quot;
        }
      }
    }]
  }],
  &quot;config&quot;: {
    &quot;view&quot;: {
      &quot;stroke&quot;: &quot;transparent&quot;
    }
  }
}
</code></pre>
<h2>Radial Plot</h2>
<pre><code class="language-{vega-lite}">{
  &quot;$schema&quot;: &quot;https://vega.github.io/schema/vega-lite/v5.json&quot;,
  &quot;description&quot;: &quot;A simple radial chart with embedded data.&quot;,
  &quot;data&quot;: {
    &quot;values&quot;: [12, 23, 47, 6, 52, 19]
  },
  &quot;layer&quot;: [{
    &quot;mark&quot;: {&quot;type&quot;: &quot;arc&quot;, &quot;innerRadius&quot;: 20, &quot;stroke&quot;: &quot;#fff&quot;}
  },{
    &quot;mark&quot;: {&quot;type&quot;: &quot;text&quot;, &quot;radiusOffset&quot;: 10},
    &quot;encoding&quot;: {
      &quot;text&quot;: {&quot;field&quot;: &quot;data&quot;, &quot;type&quot;: &quot;quantitative&quot;}
    }
  }],
  &quot;encoding&quot;: {
    &quot;theta&quot;: {&quot;field&quot;: &quot;data&quot;, &quot;type&quot;: &quot;quantitative&quot;, &quot;stack&quot;: true},
    &quot;radius&quot;: {&quot;field&quot;: &quot;data&quot;, &quot;scale&quot;: {&quot;type&quot;: &quot;sqrt&quot;, &quot;zero&quot;: true, &quot;rangeMin&quot;: 20}},
    &quot;color&quot;: {&quot;field&quot;: &quot;data&quot;, &quot;type&quot;: &quot;nominal&quot;, &quot;legend&quot;: null}
  }
}

</code></pre>
"""
document = """<h1 id="h:vega-lite-tests"><a href="#h:vega-lite-tests">vega-lite tests</a></h1>
<h2 id="h:interactive-scatter-plot-matrix"><a href="#h:interactive-scatter-plot-matrix">Interactive Scatter Plot Matrix</a></h2>
<div class="md-embed md-embed-vega-lite"><div class="embed-loading">Visualization</div><pre class="embed-content">{
&quot;$schema&quot;: &quot;https://vega.github.io/schema/vega-lite/v5.json&quot;,
&quot;repeat&quot;: {
 &quot;row&quot;: [&quot;Horsepower&quot;, &quot;Acceleration&quot;, &quot;Miles_per_Gallon&quot;],
 &quot;column&quot;: [&quot;Miles_per_Gallon&quot;, &quot;Acceleration&quot;, &quot;Horsepower&quot;]
},
&quot;spec&quot;: {
 &quot;data&quot;: {&quot;url&quot;: &quot;https://vega.github.io/vega-lite/examples/data/cars.json&quot;},
 &quot;mark&quot;: &quot;point&quot;,
 &quot;params&quot;: [
   {
     &quot;name&quot;: &quot;brush&quot;,
     &quot;select&quot;: {
       &quot;type&quot;: &quot;interval&quot;,
       &quot;resolve&quot;: &quot;union&quot;,
       &quot;on&quot;: &quot;[mousedown[event.shiftKey], window:mouseup] &gt; window:mousemove!&quot;,
       &quot;translate&quot;: &quot;[mousedown[event.shiftKey], window:mouseup] &gt; window:mousemove!&quot;,
       &quot;zoom&quot;: &quot;wheel![event.shiftKey]&quot;
     }
   },
   {
     &quot;name&quot;: &quot;grid&quot;,
     &quot;select&quot;: {
       &quot;type&quot;: &quot;interval&quot;,
       &quot;resolve&quot;: &quot;global&quot;,
       &quot;translate&quot;: &quot;[mousedown[!event.shiftKey], window:mouseup] &gt; window:mousemove!&quot;,
       &quot;zoom&quot;: &quot;wheel![!event.shiftKey]&quot;
     },
     &quot;bind&quot;: &quot;scales&quot;
   }
 ],
 &quot;encoding&quot;: {
   &quot;x&quot;: {&quot;field&quot;: {&quot;repeat&quot;: &quot;column&quot;}, &quot;type&quot;: &quot;quantitative&quot;},
   &quot;y&quot;: {
     &quot;field&quot;: {&quot;repeat&quot;: &quot;row&quot;},
     &quot;type&quot;: &quot;quantitative&quot;,
     &quot;axis&quot;: {&quot;minExtent&quot;: 30}
   },
   &quot;color&quot;: {
     &quot;condition&quot;: {
       &quot;param&quot;: &quot;brush&quot;,
       &quot;field&quot;: &quot;Origin&quot;,
       &quot;type&quot;: &quot;nominal&quot;
     },
     &quot;value&quot;: &quot;grey&quot;
   }
 }
}
}
</pre><div class="embed-container"></div></div>
<h2 id="h:population-pyramid"><a href="#h:population-pyramid">Population Pyramid</a></h2>
<div class="md-embed md-embed-vega-lite"><div class="embed-loading">Visualization</div><pre class="embed-content">{
&quot;$schema&quot;: &quot;https://vega.github.io/schema/vega-lite/v5.json&quot;,
&quot;description&quot;: &quot;A population pyramid for the US in 2000.&quot;,
&quot;data&quot;: { &quot;url&quot;: &quot;https://vega.github.io/vega-lite/examples/data/population.json&quot;},
&quot;transform&quot;: [
 {&quot;filter&quot;: &quot;datum.year == 2000&quot;},
 {&quot;calculate&quot;: &quot;datum.sex == 2 ? 'Female' : 'Male'&quot;, &quot;as&quot;: &quot;gender&quot;}
],
&quot;spacing&quot;: 0,
&quot;hconcat&quot;: [{
 &quot;transform&quot;: [{
   &quot;filter&quot;: {&quot;field&quot;: &quot;gender&quot;, &quot;equal&quot;: &quot;Female&quot;}
 }],
 &quot;title&quot;: &quot;Female&quot;,
 &quot;mark&quot;: &quot;bar&quot;,
 &quot;encoding&quot;: {
   &quot;y&quot;: {
     &quot;field&quot;: &quot;age&quot;, &quot;axis&quot;: null, &quot;sort&quot;: &quot;descending&quot;
   },
   &quot;x&quot;: {
     &quot;aggregate&quot;: &quot;sum&quot;, &quot;field&quot;: &quot;people&quot;,
     &quot;title&quot;: &quot;population&quot;,
     &quot;axis&quot;: {&quot;format&quot;: &quot;s&quot;},
     &quot;sort&quot;: &quot;descending&quot;
   },
   &quot;color&quot;: {
     &quot;field&quot;: &quot;gender&quot;,
     &quot;scale&quot;: {&quot;range&quot;: [&quot;#675193&quot;, &quot;#ca8861&quot;]},
     &quot;legend&quot;: null
   }
 }
}, {
 &quot;width&quot;: 20,
 &quot;view&quot;: {&quot;stroke&quot;: null},
 &quot;mark&quot;: {
   &quot;type&quot;: &quot;text&quot;,
   &quot;align&quot;: &quot;center&quot;
 },
 &quot;encoding&quot;: {
   &quot;y&quot;: {&quot;field&quot;: &quot;age&quot;, &quot;type&quot;: &quot;ordinal&quot;, &quot;axis&quot;: null, &quot;sort&quot;: &quot;descending&quot;},
   &quot;text&quot;: {&quot;field&quot;: &quot;age&quot;, &quot;type&quot;: &quot;quantitative&quot;}
 }
}, {
 &quot;transform&quot;: [{
   &quot;filter&quot;: {&quot;field&quot;: &quot;gender&quot;, &quot;equal&quot;: &quot;Male&quot;}
 }],
 &quot;title&quot;: &quot;Male&quot;,
 &quot;mark&quot;: &quot;bar&quot;,
 &quot;encoding&quot;: {
   &quot;y&quot;: {
     &quot;field&quot;: &quot;age&quot;, &quot;title&quot;: null,
     &quot;axis&quot;: null, &quot;sort&quot;: &quot;descending&quot;
   },
   &quot;x&quot;: {
     &quot;aggregate&quot;: &quot;sum&quot;, &quot;field&quot;: &quot;people&quot;,
     &quot;title&quot;: &quot;population&quot;,
     &quot;axis&quot;: {&quot;format&quot;: &quot;s&quot;}
   },
   &quot;color&quot;: {
     &quot;field&quot;: &quot;gender&quot;,
     &quot;legend&quot;: null
   }
 }
}],
&quot;config&quot;: {
 &quot;view&quot;: {&quot;stroke&quot;: null},
 &quot;axis&quot;: {&quot;grid&quot;: false}
}
}

</pre><div class="embed-container"></div></div>
<h2 id="h:discretizing-scales"><a href="#h:discretizing-scales">Discretizing scales</a></h2>
<div class="md-embed md-embed-vega-lite"><div class="embed-loading">Visualization</div><pre class="embed-content">{
&quot;$schema&quot;: &quot;https://vega.github.io/schema/vega-lite/v5.json&quot;,
&quot;description&quot;: &quot;Horizontally concatenated charts that show different types of discretizing scales.&quot;,
&quot;data&quot;: {
 &quot;values&quot;: [
   {&quot;a&quot;: &quot;A&quot;, &quot;b&quot;: 28},
   {&quot;a&quot;: &quot;B&quot;, &quot;b&quot;: 55},
   {&quot;a&quot;: &quot;C&quot;, &quot;b&quot;: 43},
   {&quot;a&quot;: &quot;D&quot;, &quot;b&quot;: 91},
   {&quot;a&quot;: &quot;E&quot;, &quot;b&quot;: 81},
   {&quot;a&quot;: &quot;F&quot;, &quot;b&quot;: 53},
   {&quot;a&quot;: &quot;G&quot;, &quot;b&quot;: 19},
   {&quot;a&quot;: &quot;H&quot;, &quot;b&quot;: 87},
   {&quot;a&quot;: &quot;I&quot;, &quot;b&quot;: 52}
 ]
},
&quot;hconcat&quot;: [
 {
   &quot;mark&quot;: &quot;circle&quot;,
   &quot;encoding&quot;: {
     &quot;y&quot;: {
       &quot;field&quot;: &quot;b&quot;,
       &quot;type&quot;: &quot;nominal&quot;,
       &quot;sort&quot;: null,
       &quot;axis&quot;: {
         &quot;ticks&quot;: false,
         &quot;domain&quot;: false,
         &quot;title&quot;: null
       }
     },
     &quot;size&quot;: {
       &quot;field&quot;: &quot;b&quot;,
       &quot;type&quot;: &quot;quantitative&quot;,
       &quot;scale&quot;: {
         &quot;type&quot;: &quot;quantize&quot;
       }
     },
     &quot;color&quot;: {
       &quot;field&quot;: &quot;b&quot;,
       &quot;type&quot;: &quot;quantitative&quot;,
       &quot;scale&quot;: {
         &quot;type&quot;: &quot;quantize&quot;,
         &quot;zero&quot;: true
       },
       &quot;legend&quot;: {
         &quot;title&quot;: &quot;Quantize&quot;
       }
     }
   }
 },
 {
   &quot;mark&quot;: &quot;circle&quot;,
   &quot;encoding&quot;: {
     &quot;y&quot;: {
       &quot;field&quot;: &quot;b&quot;,
       &quot;type&quot;: &quot;nominal&quot;,
       &quot;sort&quot;: null,
       &quot;axis&quot;: {
         &quot;ticks&quot;: false,
         &quot;domain&quot;: false,
         &quot;title&quot;: null
       }
     },
     &quot;size&quot;: {
       &quot;field&quot;: &quot;b&quot;,
       &quot;type&quot;: &quot;quantitative&quot;,
       &quot;scale&quot;: {
         &quot;type&quot;: &quot;quantile&quot;,
         &quot;range&quot;: [80, 160, 240, 320, 400]
       }
     },
     &quot;color&quot;: {
       &quot;field&quot;: &quot;b&quot;,
       &quot;type&quot;: &quot;quantitative&quot;,
       &quot;scale&quot;: {
         &quot;type&quot;: &quot;quantile&quot;,
         &quot;scheme&quot;: &quot;magma&quot;
       },
       &quot;legend&quot;: {
         &quot;format&quot;: &quot;d&quot;,
         &quot;title&quot;: &quot;Quantile&quot;
       }
     }
   }
 },
 {
   &quot;mark&quot;: &quot;circle&quot;,
   &quot;encoding&quot;: {
     &quot;y&quot;: {
       &quot;field&quot;: &quot;b&quot;,
       &quot;type&quot;: &quot;nominal&quot;,
       &quot;sort&quot;: null,
       &quot;axis&quot;: {
         &quot;ticks&quot;: false,
         &quot;domain&quot;: false,
         &quot;title&quot;: null
       }
     },
     &quot;size&quot;: {
       &quot;field&quot;: &quot;b&quot;,
       &quot;type&quot;: &quot;quantitative&quot;,
       &quot;scale&quot;: {
         &quot;type&quot;: &quot;threshold&quot;,
         &quot;domain&quot;: [30, 70],
         &quot;range&quot;: [80, 200, 320]
       }
     },
     &quot;color&quot;: {
       &quot;field&quot;: &quot;b&quot;,
       &quot;type&quot;: &quot;quantitative&quot;,
       &quot;scale&quot;: {
         &quot;type&quot;: &quot;threshold&quot;,
         &quot;domain&quot;: [30, 70],
         &quot;scheme&quot;: &quot;viridis&quot;
       },
       &quot;legend&quot;: {
         &quot;title&quot;: &quot;Threshold&quot;
       }
     }
   }
 }
],
&quot;resolve&quot;: {
 &quot;scale&quot;: {
   &quot;color&quot;: &quot;independent&quot;,
   &quot;size&quot;: &quot;independent&quot;
 }
}
}
</pre><div class="embed-container"></div></div>
<h2 id="h:marginal-histograms"><a href="#h:marginal-histograms">Marginal Histograms</a></h2>
<div class="md-embed md-embed-vega-lite"><div class="embed-loading">Visualization</div><pre class="embed-content">{
&quot;$schema&quot;: &quot;https://vega.github.io/schema/vega-lite/v5.json&quot;,
&quot;data&quot;: {&quot;url&quot;: &quot;https://vega.github.io/vega-lite/examples/data/movies.json&quot;},
&quot;spacing&quot;: 15,
&quot;bounds&quot;: &quot;flush&quot;,
&quot;vconcat&quot;: [{
 &quot;mark&quot;: &quot;bar&quot;,
 &quot;height&quot;: 60,
 &quot;encoding&quot;: {
   &quot;x&quot;: {
     &quot;bin&quot;: true,
     &quot;field&quot;: &quot;IMDB Rating&quot;,
     &quot;axis&quot;: null
   },
   &quot;y&quot;: {
     &quot;aggregate&quot;: &quot;count&quot;,
     &quot;scale&quot;: {
       &quot;domain&quot;: [0,1000]
     },
     &quot;title&quot;: &quot;&quot;
   }
 }
}, {
 &quot;spacing&quot;: 15,
 &quot;bounds&quot;: &quot;flush&quot;,
 &quot;hconcat&quot;: [{
   &quot;mark&quot;: &quot;rect&quot;,
   &quot;encoding&quot;: {
     &quot;x&quot;: {&quot;bin&quot;: true, &quot;field&quot;: &quot;IMDB Rating&quot;},
     &quot;y&quot;: {&quot;bin&quot;: true, &quot;field&quot;: &quot;Rotten Tomatoes Rating&quot;},
     &quot;color&quot;: {&quot;aggregate&quot;: &quot;count&quot;}
   }
 }, {
   &quot;mark&quot;: &quot;bar&quot;,
   &quot;width&quot;: 60,
   &quot;encoding&quot;: {
     &quot;y&quot;: {
       &quot;bin&quot;: true,
       &quot;field&quot;: &quot;Rotten Tomatoes Rating&quot;,
       &quot;axis&quot;: null
     },
     &quot;x&quot;: {
       &quot;aggregate&quot;: &quot;count&quot;,
       &quot;scale&quot;: {&quot;domain&quot;: [0,1000]},
       &quot;title&quot;: &quot;&quot;
     }
   }
 }]
}],
&quot;config&quot;: {
 &quot;view&quot;: {
   &quot;stroke&quot;: &quot;transparent&quot;
 }
}
}
</pre><div class="embed-container"></div></div>
<h2 id="h:radial-plot"><a href="#h:radial-plot">Radial Plot</a></h2>
<div class="md-embed md-embed-vega-lite"><div class="embed-loading">Visualization</div><pre class="embed-content">{
&quot;$schema&quot;: &quot;https://vega.github.io/schema/vega-lite/v5.json&quot;,
&quot;description&quot;: &quot;A simple radial chart with embedded data.&quot;,
&quot;data&quot;: {
 &quot;values&quot;: [12, 23, 47, 6, 52, 19]
},
&quot;layer&quot;: [{
 &quot;mark&quot;: {&quot;type&quot;: &quot;arc&quot;, &quot;innerRadius&quot;: 20, &quot;stroke&quot;: &quot;#fff&quot;}
},{
 &quot;mark&quot;: {&quot;type&quot;: &quot;text&quot;, &quot;radiusOffset&quot;: 10},
 &quot;encoding&quot;: {
   &quot;text&quot;: {&quot;field&quot;: &quot;data&quot;, &quot;type&quot;: &quot;quantitative&quot;}
 }
}],
&quot;encoding&quot;: {
 &quot;theta&quot;: {&quot;field&quot;: &quot;data&quot;, &quot;type&quot;: &quot;quantitative&quot;, &quot;stack&quot;: true},
 &quot;radius&quot;: {&quot;field&quot;: &quot;data&quot;, &quot;scale&quot;: {&quot;type&quot;: &quot;sqrt&quot;, &quot;zero&quot;: true, &quot;rangeMin&quot;: 20}},
 &quot;color&quot;: {&quot;field&quot;: &quot;data&quot;, &quot;type&quot;: &quot;nominal&quot;, &quot;legend&quot;: null}
}
}

</pre><div class="embed-container"></div></div>
"""
vega-lite = """<h1>vega-lite tests</h1>
<h2>Interactive Scatter Plot Matrix</h2>
<div class="md-embed md-embed-vega-lite"><div class="embed-loading">Visualization</div><pre class="embed-content">{
&quot;$schema&quot;: &quot;https://vega.github.io/schema/vega-lite/v5.json&quot;,
&quot;repeat&quot;: {
 &quot;row&quot;: [&quot;Horsepower&quot;, &quot;Acceleration&quot;, &quot;Miles_per_Gallon&quot;],
 &quot;column&quot;: [&quot;Miles_per_Gallon&quot;, &quot;Acceleration&quot;, &quot;Horsepower&quot;]
},
&quot;spec&quot;: {
 &quot;data&quot;: {&quot;url&quot;: &quot;https://vega.github.io/vega-lite/examples/data/cars.json&quot;},
 &quot;mark&quot;: &quot;point&quot;,
 &quot;params&quot;: [
   {
     &quot;name&quot;: &quot;brush&quot;,
     &quot;select&quot;: {
       &quot;type&quot;: &quot;interval&quot;,
       &quot;resolve&quot;: &quot;union&quot;,
       &quot;on&quot;: &quot;[mousedown[event.shiftKey], window:mouseup] &gt; window:mousemove!&quot;,
       &quot;translate&quot;: &quot;[mousedown[event.shiftKey], window:mouseup] &gt; window:mousemove!&quot;,
       &quot;zoom&quot;: &quot;wheel![event.shiftKey]&quot;
     }
   },
   {
     &quot;name&quot;: &quot;grid&quot;,
     &quot;select&quot;: {
       &quot;type&quot;: &quot;interval&quot;,
       &quot;resolve&quot;: &quot;global&quot;,
       &quot;translate&quot;: &quot;[mousedown[!event.shiftKey], window:mouseup] &gt; window:mousemove!&quot;,
       &quot;zoom&quot;: &quot;wheel![!event.shiftKey]&quot;
     },
     &quot;bind&quot;: &quot;scales&quot;
   }
 ],
 &quot;encoding&quot;: {
   &quot;x&quot;: {&quot;field&quot;: {&quot;repeat&quot;: &quot;column&quot;}, &quot;type&quot;: &quot;quantitative&quot;},
   &quot;y&quot;: {
     &quot;field&quot;: {&quot;repeat&quot;: &quot;row&quot;},
     &quot;type&quot;: &quot;quantitative&quot;,
     &quot;axis&quot;: {&quot;minExtent&quot;: 30}
   },
   &quot;color&quot;: {
     &quot;condition&quot;: {
       &quot;param&quot;: &quot;brush&quot;,
       &quot;field&quot;: &quot;Origin&quot;,
       &quot;type&quot;: &quot;nominal&quot;
     },
     &quot;value&quot;: &quot;grey&quot;
   }
 }
}
}
</pre><div class="embed-container"></div></div>
<h2>Population Pyramid</h2>
<div class="md-embed md-embed-vega-lite"><div class="embed-loading">Visualization</div><pre class="embed-content">{
&quot;$schema&quot;: &quot;https://vega.github.io/schema/vega-lite/v5.json&quot;,
&quot;description&quot;: &quot;A population pyramid for the US in 2000.&quot;,
&quot;data&quot;: { &quot;url&quot;: &quot;https://vega.github.io/vega-lite/examples/data/population.json&quot;},
&quot;transform&quot;: [
 {&quot;filter&quot;: &quot;datum.year == 2000&quot;},
 {&quot;calculate&quot;: &quot;datum.sex == 2 ? 'Female' : 'Male'&quot;, &quot;as&quot;: &quot;gender&quot;}
],
&quot;spacing&quot;: 0,
&quot;hconcat&quot;: [{
 &quot;transform&quot;: [{
   &quot;filter&quot;: {&quot;field&quot;: &quot;gender&quot;, &quot;equal&quot;: &quot;Female&quot;}
 }],
 &quot;title&quot;: &quot;Female&quot;,
 &quot;mark&quot;: &quot;bar&quot;,
 &quot;encoding&quot;: {
   &quot;y&quot;: {
     &quot;field&quot;: &quot;age&quot;, &quot;axis&quot;: null, &quot;sort&quot;: &quot;descending&quot;
   },
   &quot;x&quot;: {
     &quot;aggregate&quot;: &quot;sum&quot;, &quot;field&quot;: &quot;people&quot;,
     &quot;title&quot;: &quot;population&quot;,
     &quot;axis&quot;: {&quot;format&quot;: &quot;s&quot;},
     &quot;sort&quot;: &quot;descending&quot;
   },
   &quot;color&quot;: {
     &quot;field&quot;: &quot;gender&quot;,
     &quot;scale&quot;: {&quot;range&quot;: [&quot;#675193&quot;, &quot;#ca8861&quot;]},
     &quot;legend&quot;: null
   }
 }
}, {
 &quot;width&quot;: 20,
 &quot;view&quot;: {&quot;stroke&quot;: null},
 &quot;mark&quot;: {
   &quot;type&quot;: &quot;text&quot;,
   &quot;align&quot;: &quot;center&quot;
 },
 &quot;encoding&quot;: {
   &quot;y&quot;: {&quot;field&quot;: &quot;age&quot;, &quot;type&quot;: &quot;ordinal&quot;, &quot;axis&quot;: null, &quot;sort&quot;: &quot;descending&quot;},
   &quot;text&quot;: {&quot;field&quot;: &quot;age&quot;, &quot;type&quot;: &quot;quantitative&quot;}
 }
}, {
 &quot;transform&quot;: [{
   &quot;filter&quot;: {&quot;field&quot;: &quot;gender&quot;, &quot;equal&quot;: &quot;Male&quot;}
 }],
 &quot;title&quot;: &quot;Male&quot;,
 &quot;mark&quot;: &quot;bar&quot;,
 &quot;encoding&quot;: {
   &quot;y&quot;: {
     &quot;field&quot;: &quot;age&quot;, &quot;title&quot;: null,
     &quot;axis&quot;: null, &quot;sort&quot;: &quot;descending&quot;
   },
   &quot;x&quot;: {
     &quot;aggregate&quot;: &quot;sum&quot;, &quot;field&quot;: &quot;people&quot;,
     &quot;title&quot;: &quot;population&quot;,
     &quot;axis&quot;: {&quot;format&quot;: &quot;s&quot;}
   },
   &quot;color&quot;: {
     &quot;field&quot;: &quot;gender&quot;,
     &quot;legend&quot;: null
   }
 }
}],
&quot;config&quot;: {
 &quot;view&quot;: {&quot;stroke&quot;: null},
 &quot;axis&quot;: {&quot;grid&quot;: false}
}
}

</pre><div class="embed-container"></div></div>
<h2>Discretizing scales</h2>
<div class="md-embed md-embed-vega-lite"><div class="embed-loading">Visualization</div><pre class="embed-content">{
&quot;$schema&quot;: &quot;https://vega.github.io/schema/vega-lite/v5.json&quot;,
&quot;description&quot;: &quot;Horizontally concatenated charts that show different types of discretizing scales.&quot;,
&quot;data&quot;: {
 &quot;values&quot;: [
   {&quot;a&quot;: &quot;A&quot;, &quot;b&quot;: 28},
   {&quot;a&quot;: &quot;B&quot;, &quot;b&quot;: 55},
   {&quot;a&quot;: &quot;C&quot;, &quot;b&quot;: 43},
   {&quot;a&quot;: &quot;D&quot;, &quot;b&quot;: 91},
   {&quot;a&quot;: &quot;E&quot;, &quot;b&quot;: 81},
   {&quot;a&quot;: &quot;F&quot;, &quot;b&quot;: 53},
   {&quot;a&quot;: &quot;G&quot;, &quot;b&quot;: 19},
   {&quot;a&quot;: &quot;H&quot;, &quot;b&quot;: 87},
   {&quot;a&quot;: &quot;I&quot;, &quot;b&quot;: 52}
 ]
},
&quot;hconcat&quot;: [
 {
   &quot;mark&quot;: &quot;circle&quot;,
   &quot;encoding&quot;: {
     &quot;y&quot;: {
       &quot;field&quot;: &quot;b&quot;,
       &quot;type&quot;: &quot;nominal&quot;,
       &quot;sort&quot;: null,
       &quot;axis&quot;: {
         &quot;ticks&quot;: false,
         &quot;domain&quot;: false,
         &quot;title&quot;: null
       }
     },
     &quot;size&quot;: {
       &quot;field&quot;: &quot;b&quot;,
       &quot;type&quot;: &quot;quantitative&quot;,
       &quot;scale&quot;: {
         &quot;type&quot;: &quot;quantize&quot;
       }
     },
     &quot;color&quot;: {
       &quot;field&quot;: &quot;b&quot;,
       &quot;type&quot;: &quot;quantitative&quot;,
       &quot;scale&quot;: {
         &quot;type&quot;: &quot;quantize&quot;,
         &quot;zero&quot;: true
       },
       &quot;legend&quot;: {
         &quot;title&quot;: &quot;Quantize&quot;
       }
     }
   }
 },
 {
   &quot;mark&quot;: &quot;circle&quot;,
   &quot;encoding&quot;: {
     &quot;y&quot;: {
       &quot;field&quot;: &quot;b&quot;,
       &quot;type&quot;: &quot;nominal&quot;,
       &quot;sort&quot;: null,
       &quot;axis&quot;: {
         &quot;ticks&quot;: false,
         &quot;domain&quot;: false,
         &quot;title&quot;: null
       }
     },
     &quot;size&quot;: {
       &quot;field&quot;: &quot;b&quot;,
       &quot;type&quot;: &quot;quantitative&quot;,
       &quot;scale&quot;: {
         &quot;type&quot;: &quot;quantile&quot;,
         &quot;range&quot;: [80, 160, 240, 320, 400]
       }
     },
     &quot;color&quot;: {
       &quot;field&quot;: &quot;b&quot;,
       &quot;type&quot;: &quot;quantitative&quot;,
       &quot;scale&quot;: {
         &quot;type&quot;: &quot;quantile&quot;,
         &quot;scheme&quot;: &quot;magma&quot;
       },
       &quot;legend&quot;: {
         &quot;format&quot;: &quot;d&quot;,
         &quot;title&quot;: &quot;Quantile&quot;
       }
     }
   }
 },
 {
   &quot;mark&quot;: &quot;circle&quot;,
   &quot;encoding&quot;: {
     &quot;y&quot;: {
       &quot;field&quot;: &quot;b&quot;,
       &quot;type&quot;: &quot;nominal&quot;,
       &quot;sort&quot;: null,
       &quot;axis&quot;: {
         &quot;ticks&quot;: false,
         &quot;domain&quot;: false,
         &quot;title&quot;: null
       }
     },
     &quot;size&quot;: {
       &quot;field&quot;: &quot;b&quot;,
       &quot;type&quot;: &quot;quantitative&quot;,
       &quot;scale&quot;: {
         &quot;type&quot;: &quot;threshold&quot;,
         &quot;domain&quot;: [30, 70],
         &quot;range&quot;: [80, 200, 320]
       }
     },
     &quot;color&quot;: {
       &quot;field&quot;: &quot;b&quot;,
       &quot;type&quot;: &quot;quantitative&quot;,
       &quot;scale&quot;: {
         &quot;type&quot;: &quot;threshold&quot;,
         &quot;domain&quot;: [30, 70],
         &quot;scheme&quot;: &quot;viridis&quot;
       },
       &quot;legend&quot;: {
         &quot;title&quot;: &quot;Threshold&quot;
       }
     }
   }
 }
],
&quot;resolve&quot;: {
 &quot;scale&quot;: {
   &quot;color&quot;: &quot;independent&quot;,
   &quot;size&quot;: &quot;independent&quot;
 }
}
}
</pre><div class="embed-container"></div></div>
<h2>Marginal Histograms</h2>
<div class="md-embed md-embed-vega-lite"><div class="embed-loading">Visualization</div><pre class="embed-content">{
&quot;$schema&quot;: &quot;https://vega.github.io/schema/vega-lite/v5.json&quot;,
&quot;data&quot;: {&quot;url&quot;: &quot;https://vega.github.io/vega-lite/examples/data/movies.json&quot;},
&quot;spacing&quot;: 15,
&quot;bounds&quot;: &quot;flush&quot;,
&quot;vconcat&quot;: [{
 &quot;mark&quot;: &quot;bar&quot;,
 &quot;height&quot;: 60,
 &quot;encoding&quot;: {
   &quot;x&quot;: {
     &quot;bin&quot;: true,
     &quot;field&quot;: &quot;IMDB Rating&quot;,
     &quot;axis&quot;: null
   },
   &quot;y&quot;: {
     &quot;aggregate&quot;: &quot;count&quot;,
     &quot;scale&quot;: {
       &quot;domain&quot;: [0,1000]
     },
     &quot;title&quot;: &quot;&quot;
   }
 }
}, {
 &quot;spacing&quot;: 15,
 &quot;bounds&quot;: &quot;flush&quot;,
 &quot;hconcat&quot;: [{
   &quot;mark&quot;: &quot;rect&quot;,
   &quot;encoding&quot;: {
     &quot;x&quot;: {&quot;bin&quot;: true, &quot;field&quot;: &quot;IMDB Rating&quot;},
     &quot;y&quot;: {&quot;bin&quot;: true, &quot;field&quot;: &quot;Rotten Tomatoes Rating&quot;},
     &quot;color&quot;: {&quot;aggregate&quot;: &quot;count&quot;}
   }
 }, {
   &quot;mark&quot;: &quot;bar&quot;,
   &quot;width&quot;: 60,
   &quot;encoding&quot;: {
     &quot;y&quot;: {
       &quot;bin&quot;: true,
       &quot;field&quot;: &quot;Rotten Tomatoes Rating&quot;,
       &quot;axis&quot;: null
     },
     &quot;x&quot;: {
       &quot;aggregate&quot;: &quot;count&quot;,
       &quot;scale&quot;: {&quot;domain&quot;: [0,1000]},
       &quot;title&quot;: &quot;&quot;
     }
   }
 }]
}],
&quot;config&quot;: {
 &quot;view&quot;: {
   &quot;stroke&quot;: &quot;transparent&quot;
 }
}
}
</pre><div class="embed-container"></div></div>
<h2>Radial Plot</h2>
<div class="md-embed md-embed-vega-lite"><div class="embed-loading">Visualization</div><pre class="embed-content">{
&quot;$schema&quot;: &quot;https://vega.github.io/schema/vega-lite/v5.json&quot;,
&quot;description&quot;: &quot;A simple radial chart with embedded data.&quot;,
&quot;data&quot;: {
 &quot;values&quot;: [12, 23, 47, 6, 52, 19]
},
&quot;layer&quot;: [{
 &quot;mark&quot;: {&quot;type&quot;: &quot;arc&quot;, &quot;innerRadius&quot;: 20, &quot;stroke&quot;: &quot;#fff&quot;}
},{
 &quot;mark&quot;: {&quot;type&quot;: &quot;text&quot;, &quot;radiusOffset&quot;: 10},
 &quot;encoding&quot;: {
   &quot;text&quot;: {&quot;field&quot;: &quot;data&quot;, &quot;type&quot;: &quot;quantitative&quot;}
 }
}],
&quot;encoding&quot;: {
 &quot;theta&quot;: {&quot;field&quot;: &quot;data&quot;, &quot;type&quot;: &quot;quantitative&quot;, &quot;stack&quot;: true},
 &quot;radius&quot;: {&quot;field&quot;: &quot;data&quot;, &quot;scale&quot;: {&quot;type&quot;: &quot;sqrt&quot;, &quot;zero&quot;: true, &quot;rangeMin&quot;: 20}},
 &quot;color&quot;: {&quot;field&quot;: &quot;data&quot;, &quot;type&quot;: &quot;nominal&quot;, &quot;legend&quot;: null}
}
}

</pre><div class="embed-container"></div></div>
"""
